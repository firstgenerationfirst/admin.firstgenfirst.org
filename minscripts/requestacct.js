"use strict";!function(){var e,n=null,i=document.getElementById("signin-btn");document.getElementById("name").addEventListener("input",function(){e=this.value.trim(),i.disabled=!1!==n||!e.length}),gapiLoaded.then(function(){var t=gapi.auth2.getAuthInstance();i.addEventListener("click",t.signIn),document.getElementById("signout-btn").addEventListener("click",t.signOut)}),user.logIn.then(function(t){null!==n?e&&(n=!0,firebase.firestore().collection("profiles").doc(t.uid).set({name:e}).finally(function(){location.assign("/")})):document.getElementById("signout").style.display="block"}),user.logOut.then(function(){document.getElementById("signout").style.display="",n=!1}),firebase.firestore().collection("profiles").doc("account_creation").get().then(function(t){t=t.data();document.documentElement.setAttribute("data-fb-allow-account-creation",t.allow)},function(){document.documentElement.setAttribute("data-fb-allow-account-creation",!1)})}();